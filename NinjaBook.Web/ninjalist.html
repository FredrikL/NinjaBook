<!DOCTYPE html> 
<html> 
	<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1"> 
	<title>Ninja List</title> 
	<link href="http://code.jquery.com/mobile/latest/jquery.mobile.min.css" rel="stylesheet" type="text/css" />
	<script src="http://code.jquery.com/jquery-1.6.2.min.js"></script>
	<script src="http://code.jquery.com/mobile/latest/jquery.mobile.min.js"></script>
	
</head> 
<body>
	<script>
	 
	 $(document).ready(function() {
   $.getJSON("http://127.0.0.1:51757/?jsoncallback=?",
	  function(data) {
	    addToList(data);
	  });
	 
	
	 /*   var ninjas = jQuery.parseJSON('[{"Name":"ninja", "Phone":"0000"}, {"Name":"sumo", "Phone":"1111"}]');
		addToList(ninjas);
		$('ul').listview('refresh');
     */});

	
	function addToList(data){
	  	$.each(data, function(i,item){
	    var ninja =  $("<li/>"); //.text(item.Name);
	 	var name = $("<h3/>").text(item.Name);
	    var phone = $("<p/>").text(item.Phone);
		name.appendTo(ninja);
	    phone.appendTo(ninja); //	ninja = ninja.insert(phone);
	    ninja.appendTo("#ninjaList");
		
	  	});
	};

	</script>
	 
	<div data-role="page" class="type-interior">
		<div data-role="header" data-theme="f">
		<h1>Ninjas</h1>
	</div>

	<div data-role="content">
			<div class="content-primary">
			<ul data-role="listview" id="ninjaList">
				
			</ul>
	</div>
</body>
</html>
				